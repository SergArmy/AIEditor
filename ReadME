# ReadME

Документ фиксирует актуальное техническое задание и ключевые требования к проекту inline-редактора документации для 1С.

## 1. Обзор
- **Цель** — создать веб-редактор, позволяющий интерактивно собирать и редактировать документацию по 1С с помощью настраиваемых блоков.
- **Основные пользователи** — методологи и разработчики 1С, которым требуется визуальный и интерактивный инструмент подготовки документов.
- **Формат поставки** — браузерное SPA-приложение без зависимостей на бэкенд на первом этапе.

## 2. Технологический стек
- Web Components + Custom Elements для блоков.
- Lit Element для декларативного рендеринга.
- Monaco Editor для редактирования кода и фрагментов 1С.
- Zustand + Immer для состояния (`DocumentStore`, `RoleStore`).
- Tailwind-подобные утилиты и CSS-переменные для стилизации.

## 3. Функциональные требования (MVP)
- **Блоки документа**
  - Базовые классы `BaseBlock`, `EditableBlock` обеспечивают сериализацию/десериализацию, управление состоянием, поддержку атрибутов (`block-id`, `selected`, `editable`).
  - Контейнер `document-block` формирует корневую структуру документа.
  - Контентный `text-block` предоставляет редактируемый текст с вариантами отображения и хighlight режима редактирования.
- **Состояние и данные**
  - `DocumentStore` хранит древовидное представление документа, поддерживает CRUD-операции над блоками, undo/redo, выбор текущего блока.
  - Вся информация о ролях и правах централизована в `RoleStore` (подготовить интерфейсы, реализовать позже).
- **Редактирование**
  - Поддержка inline-редактирования текста (`contenteditable`), базовых команд выделения, вставки/удаления блоков.
  - Контекстное меню и тулбар закладываются архитектурно, фактическая реализация после базовых блоков.
- **Примеры и тестирование**
  - Создать `examples/minimal.html` для ручной проверки базовых блоков.
  - Все изменения проверяются в минимальном примере; добавлять сценарии по мере расширения функционала.

## 4. Нефункциональные требования
- Поддержка современных Chromium-браузеров.
- Производительность: плавная работа на документах до 100 блоков на первом этапе; предусмотреть архитектуру для последующей виртуализации.
- Расширяемость: блоки регистрируются как независимые элементы с минимальными связями.
- Стиль кода: ES Modules, JSDoc для публичных API, единый префикс `editor-` для пользовательских событий.

## 5. Дальнейшие этапы
- Интеграция Monaco и специализированных блоков (`code-block`, `roles-block`, `diagram-block`).
- Развитие систем контекстных взаимодействий (drag & drop, множественное выделение, toolbar).
- Экспорт/импорт документов, поддержка PlantUML, режимов отображения и тем.

## 6. Артефакты и документация
- `TODO` — приоритизированный список задач с критериями готовности.
- `PLAN` — дорожная карта по итерациям и ключевым зависимостям.
- `PROGRESS` — журнал результатов и даты выполнения.
- `docs/` — расширенные спецификации (`ARCHITECTURE.md`, `BLOCK_SPECIFICATION.md`, `DEVELOPMENT_GUIDE.md`, и т.д.).

